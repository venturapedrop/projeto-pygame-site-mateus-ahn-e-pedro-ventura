const translations = {
  pt: {
    brandName: "DT",
    navHome: "Início",
    navInstructions: "Instruções",
    navStory: "História",
    heroTitle: "Digitore",
    heroSubtitle:
      "Defenda sua torre digitando as palavras que aparecem nos inimigos que se aproximam! Sobreviva ao ataque enquanto alterna idiomas e aumenta sua velocidade de digitação.",
    ctaPlay: "Jogar Agora",
    ctaDownload: "Baixar Jogo",
    ctaDevlog: "Diário de Desenvolvimento",
    featureLevelsTitle: "10 Níveis",
    featureLevelsText: "Dificuldade Progressiva",
    featureLanguagesTitle: "2 Idiomas",
    featureLanguagesText: "Suporte EN &amp; PT",
    featureBossTitle: "Batalhas contra Chefes",
    featureBossText: "Fases Finais Épicas",
    demoTitle: "Demonstração",
    demoCaption: "Vídeo de gameplay no YouTube.",
    aboutTitle: "Sobre o Jogo",
    aboutLead:
      "Digitore é um jogo de tower defense baseado em digitação, onde o jogador deve defender sua torre digitando as palavras que aparecem nos inimigos que se aproximam. O jogo traz múltiplos níveis com dificuldade crescente, animações, efeitos sonoros e um sistema de pontuação e ranking.",
    infoCard1:
      "<strong>10 Níveis Progressivos</strong>Tipos diferentes de inimigos: letras minúsculas, maiúsculas e palavras completas.",
    infoCard2:
      "<strong>Sistema de Chefes</strong>Níveis 9 e 10 trazem chefes complexos com sequências desafiadoras.",
    infoCard3:
      "<strong>Suporte Bilíngue</strong>Jogue em Português ou Inglês com tradução adaptada.",
    infoCard4:
      "<strong>Fundos Dinâmicos</strong>Os cenários mudam conforme o progresso em cada nível.",
    infoCard5:
      "<strong>Animações de Sprites</strong>Sprites animados dão vida a personagens, explosões e efeitos.",
    infoCard6:
      "<strong>Pontuação &amp; Ranking</strong>Ranking completo salva em JSON para acompanhar seus recordes.",
    howToTitle: "Como Jogar",
    howToMainTitle: "Menu Principal",
    howToMainList:
      "<li>S &mdash; Iniciar jogo</li><li>Q &mdash; Sair</li><li>L &mdash; Alternar idioma (Português/Inglês)</li>",
    howToGameTitle: "Durante o Jogo",
    howToGameList:
      "<li>Digite as letras/palavras que aparecem nos inimigos</li><li>Mantenha a precisão para liberar bônus explosivos</li><li>ESC &mdash; Pausar jogo</li>",
    howToPauseTitle: "Menu de Pausa",
    howToPauseList:
      "<li>ESC &mdash; Retomar jogo</li><li>M &mdash; Voltar ao menu principal</li>",
    howToScoreTitle: "Telas de Pontuação",
    howToScoreList:
      "<li>R &mdash; Reiniciar jogo</li><li>M &mdash; Menu principal</li><li>Enter &mdash; Confirmar entrada de nome</li>",
    techTitle: "Recursos Técnicos",
    techFeaturesTitle: "Características",
    techFeaturesList:
      "<li>Arquitetura orientada a objetos com classes e responsabilidades separadas</li><li>Herança de pygame.sprite para detecção de colisão</li><li>Arquitetura baseada em telas para cada estado do jogo</li><li>Documentação completa com docstrings em classes e métodos</li><li>Código organizado em múltiplos arquivos para melhor manutenibilidade</li>",
    techRequirementsTitle: "Requisitos",
    techRequirementsList:
      "<li>Python 3.7 ou superior</li><li>Biblioteca Pygame</li>",
    techInstallTitle: "Instalação",
    techInstallList:
      "<li>Clone ou baixe o repositório</li><li>Instale o Pygame: <code>pip install pygame</code></li><li>Execute: <code>python3 game.py</code></li>",
    development:
      "Este projeto nasceu como uma experiência de aprendizado em Python/Pygame, combinando mecânicas de tower defense com desafios de digitação. Evoluímos de um protótipo simples para uma aventura com 10 níveis, batalhas contra chefes e um sistema completo de pontuação.<br /><br />Criado por Mateus Ahn &amp; Pedro Ventura",
    footerBrand: "Digitore",
    footerDemo: "Demonstração",
    footerInstructions: "Instruções",
    footerDownload: "Baixar Jogo",
    footerCopy:
      "&copy; Criado por Mateus Ahn &amp; Pedro Ventura. Todos os direitos reservados."
  },
  en: {
    brandName: "ToT",
    navHome: "Home",
    navInstructions: "Instructions",
    navStory: "Storyline",
    heroTitle: "Tower of Typing",
    heroSubtitle:
      "Defend your tower by typing the words that appear on approaching enemies. Swap languages, build speed, and survive the retro gauntlet.",
    ctaPlay: "Play the Game",
    ctaDownload: "Download Game",
    ctaDevlog: "Development Log",
    featureLevelsTitle: "10 Levels",
    featureLevelsText: "Progressive Difficulty",
    featureLanguagesTitle: "2 Languages",
    featureLanguagesText: "EN &amp; PT Support",
    featureBossTitle: "Boss Battles",
    featureBossText: "Epic Final Levels",
    demoTitle: "Game Demo",
    demoCaption: "Gameplay demo on YouTube.",
    aboutTitle: "About the Game",
    aboutLead:
      "Tower of Typing is a tower-defense typing experience. Stop the oncoming horde by shredding through their words, master ten handcrafted levels, and climb the scoring ladder.",
    infoCard1:
      "<strong>10 Progressive Levels</strong>Different enemy types: lowercase letters, uppercase letters, and complete words.",
    infoCard2:
      "<strong>Boss System</strong>Levels nine and ten unleash complex boss encounters packed with tricky sequences.",
    infoCard3:
      "<strong>Dual Language Support</strong>Play in Portuguese or English with adapted translations.",
    infoCard4:
      "<strong>Dynamic Backgrounds</strong>Visuals evolve as you advance, keeping the atmosphere fresh.",
    infoCard5:
      "<strong>Sprite Animations</strong>Animated sprites bring characters, explosions, and effects to life.",
    infoCard6:
      "<strong>Scoring &amp; Ranking</strong>Post-game rankings save to JSON so you can chase high scores.",
    howToTitle: "How to Play",
    howToMainTitle: "Main Menu",
    howToMainList:
      "<li>S &mdash; Start game</li><li>Q &mdash; Quit</li><li>L &mdash; Switch language (PT / EN)</li>",
    howToGameTitle: "During the Game",
    howToGameList:
      "<li>Type the letters or words floating toward the tower</li><li>Maintain accuracy to trigger explosive bonuses</li><li>ESC &mdash; Pause game</li>",
    howToPauseTitle: "Pause Menu",
    howToPauseList:
      "<li>ESC &mdash; Resume game</li><li>M &mdash; Return to main menu</li>",
    howToScoreTitle: "Score Screens",
    howToScoreList:
      "<li>R &mdash; Restart game</li><li>M &mdash; Back to the main menu</li><li>Enter &mdash; Confirm name entry</li>",
    howToNull: "",
    techTitle: "Technical Features",
    techFeaturesTitle: "Features",
    techFeaturesList:
      "<li>Object-oriented architecture with clear responsibilities</li><li>Pygame sprite inheritance for collision detection</li><li>Screen-based structure for each game state</li><li>Extensive docstrings on classes and methods</li><li>Organized multi-file codebase for maintainability</li>",
    techRequirementsTitle: "Requirements",
    techRequirementsList:
      "<li>Python 3.7 or newer</li><li>Pygame library</li>",
    techInstallTitle: "Installation",
    techInstallList:
      "<li>Clone or download the repository</li><li>Install Pygame: <code>pip install pygame</code></li><li>Run <code>python3 game.py</code></li>",
    development:
      "This project started as a Python/Pygame learning journey, combining tower defense mechanics with typing challenges. It evolved into a full adventure with ten handcrafted levels, boss battles, and a complete scoring system.<br /><br />Created by Mateus Ahn &amp; Pedro Ventura",
    footerBrand: "Tower of Typing",
    footerDemo: "Game Demo",
    footerInstructions: "Instructions",
    footerDownload: "Download Game",
    footerCopy:
      "&copy; Created by Mateus Ahn &amp; Pedro Ventura. All rights reserved."
  }
};

const elements = document.querySelectorAll("[data-i18n]");
const langToggle = document.querySelector("[data-lang-toggle]");
let currentLang = "en";

function applyTranslations(lang) {
  const dictionary = translations[lang];
  if (!dictionary) {
    return;
  }

  // Replace the inner HTML for every annotated node with the selected language snippet.
  elements.forEach((el) => {
    const key = el.dataset.i18n;
    const translation = dictionary[key];
    if (translation !== undefined) {
      el.innerHTML = translation;
    }
  });

  document.documentElement.lang = lang;

  if (langToggle) {
    if (lang === "pt") {
      langToggle.setAttribute("aria-label", "Alternar idioma para inglês");
    } else {
      langToggle.setAttribute("aria-label", "Switch language to Portuguese");
    }
  }

  currentLang = lang;
}

if (langToggle) {
  langToggle.addEventListener("click", () => {
    const nextLang = currentLang === "pt" ? "en" : "pt";
    applyTranslations(nextLang);
  });
}

applyTranslations(currentLang);
